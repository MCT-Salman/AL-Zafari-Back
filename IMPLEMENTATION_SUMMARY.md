# ููุฎุต ุงูุชูููุฐ - CRUD ููููุงูุงุช ุงูุฌุฏูุฏุฉ

## โ ุชู ุฅูุฌุงุฒ ุงููููุฉ ุจูุฌุงุญ!

ุชู ุฅูุดุงุก ูุธุงู CRUD ูุงูู ูู **3 ููุงูุงุช ุฑุฆูุณูุฉ** ูุน **15 ููู ุฌุฏูุฏ** ูุชุญุฏูุซ ููู `app.js`.

---

## ๐ ุงูููุงูุงุช ุงููููุฐุฉ

### 1. ุงูุนููุงุก (Customers)
- **ุงููุธุงุฆู:** ุฅูุดุงุกุ ูุฑุงุกุฉุ ุชุญุฏูุซุ ุญุฐู
- **ุงููููุฒุงุช:**
  - ุงุณุชุฎุฑุงุฌ ูุนูููุงุช ุงูุฏููุฉ ูู ุฑูู ุงููุงุชู ุชููุงุฆูุงู
  - ุงูุจุญุซ ูู ุงูุงุณู ูุงููุงุชู
  - ุงูุชุตููุฉ ุญุณุจ ุงูููุนุ ุงููุฏููุฉุ ูุงูุญุงูุฉ
  - ุนุฑุถ ุขุฎุฑ 5 ุทูุจุงุช ูููุงุชูุฑ ุนูุฏ ุฌูุจ ุนููู ูุงุญุฏ
  - ููุน ุญุฐู ุนููู ูุฏูู ุทูุจุงุช

### 2. ุงูุทูุจุงุช (Orders) ูุน ุนูุงุตุฑ ุงูุทูุจ (OrderItems)
- **ุงููุธุงุฆู:** ุฅูุดุงุกุ ูุฑุงุกุฉุ ุชุญุฏูุซุ ุญุฐู
- **ุงููููุฒุงุช:**
  - ุฅูุดุงุก ุทูุจ ูุน ุนูุงุตุฑู ูู ูุนุงููุฉ ูุงุญุฏุฉ (Transaction)
  - ุญุณุงุจ ุงููุจูุบ ุงูุฅุฌูุงูู ุชููุงุฆูุงู
  - ุญุณุงุจ ุงููุจูุบ ุงููุฑุนู ููู ุนูุตุฑ ุชููุงุฆูุงู
  - ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุทุฑุฉ ูุงูุทุจุฎุฉ ููู ุนูุตุฑ
  - ุงูุชุตููุฉ ุญุณุจ ุงูุนูููุ ุงูุญุงูุฉุ ุงูุจุงุฆุนุ ูุงูุชุงุฑูุฎ
  - ููุน ุญุฐู ุทูุจ ูุฏูู ููุงุชูุฑ
  - ุชุญุฏูุซ ุงูุนูุงุตุฑ ูุน ุญุฐู ุงููุฏููุฉ ูุฅูุดุงุก ุงูุฌุฏูุฏุฉ

### 3. ุงูุฅุนุฏุงุฏุงุช (Settings)
- **ุงููุธุงุฆู:** ุฅูุดุงุกุ ูุฑุงุกุฉุ ุชุญุฏูุซุ ุญุฐูุ Upsert
- **ุงููููุฒุงุช:**
  - ุงููุตูู ุจุงููุนุฑู ุฃู ุงูููุชุงุญ
  - ุงูุชุญุฏูุซ ุจุงููุนุฑู ุฃู ุงูููุชุงุญ
  - Upsert (ุฅูุดุงุก ุฃู ุชุญุฏูุซ)
  - ุงูุจุญุซ ูู ุงูููุชุงุญ ูุงููุตู
  - ุงูุชุญูู ูู ุตูุบุฉ ุงูููุชุงุญ

---

## ๐ ุงููููุงุช ุงูููุดุฃุฉ (15 ููู)

### Models (4 ูููุงุช)
1. โ `models/customer.model.js` - 97 ุณุทุฑ
2. โ `models/order.model.js` - 173 ุณุทุฑ
3. โ `models/orderItem.model.js` - 135 ุณุทุฑ
4. โ `models/setting.model.js` - 97 ุณุทุฑ

### Services (3 ูููุงุช)
5. โ `services/customer.service.js` - 152 ุณุทุฑ
6. โ `services/order.service.js` - 297 ุณุทุฑ
7. โ `services/setting.service.js` - 138 ุณุทุฑ

### Controllers (3 ูููุงุช)
8. โ `controllers/customer.controller.js` - 106 ุณุทุฑ
9. โ `controllers/order.controller.js` - 106 ุณุทุฑ
10. โ `controllers/setting.controller.js` - 165 ุณุทุฑ

### Validators (3 ูููุงุช)
11. โ `validators/customer.validators.js` - 120 ุณุทุฑ
12. โ `validators/order.validators.js` - 138 ุณุทุฑ
13. โ `validators/setting.validators.js` - 103 ุณุทุฑ

### Routes (3 ูููุงุช)
14. โ `routes/customer.routes.js` - 48 ุณุทุฑ
15. โ `routes/order.routes.js` - 48 ุณุทุฑ
16. โ `routes/setting.routes.js` - 68 ุณุทุฑ

### ุงูุชุญุฏูุซุงุช
17. โ `app.js` - ุชู ุชุญุฏูุซู ูุชุณุฌูู ุงูู Routes ุงูุฌุฏูุฏุฉ

### ุงูุชูุซูู
18. โ `CRUD_DOCUMENTATION.md` - ุชูุซูู ุดุงูู ูุฌููุน ุงูู APIs
19. โ `IMPLEMENTATION_SUMMARY.md` - ูุฐุง ุงูููู

---

## ๐ฏ ุงูู API Routes ุงููุณุฌูุฉ

### ุงูุนููุงุก
- `GET /customer` - ุฌูุจ ุฌููุน ุงูุนููุงุก
- `GET /customer/:id` - ุฌูุจ ุนููู ูุงุญุฏ
- `POST /customer` - ุฅูุดุงุก ุนููู ุฌุฏูุฏ
- `PUT /customer/:id` - ุชุญุฏูุซ ุนููู
- `DELETE /customer/:id` - ุญุฐู ุนููู

### ุงูุทูุจุงุช
- `GET /order` - ุฌูุจ ุฌููุน ุงูุทูุจุงุช
- `GET /order/:id` - ุฌูุจ ุทูุจ ูุงุญุฏ
- `POST /order` - ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ ูุน ุนูุงุตุฑู
- `PUT /order/:id` - ุชุญุฏูุซ ุทูุจ
- `DELETE /order/:id` - ุญุฐู ุทูุจ

### ุงูุฅุนุฏุงุฏุงุช
- `GET /setting` - ุฌูุจ ุฌููุน ุงูุฅุนุฏุงุฏุงุช
- `GET /setting/id/:id` - ุฌูุจ ุฅุนุฏุงุฏ ุญุณุจ ID
- `GET /setting/key/:key` - ุฌูุจ ุฅุนุฏุงุฏ ุญุณุจ ุงูููุชุงุญ
- `POST /setting` - ุฅูุดุงุก ุฅุนุฏุงุฏ ุฌุฏูุฏ
- `PUT /setting/id/:id` - ุชุญุฏูุซ ุฅุนุฏุงุฏ ุญุณุจ ID
- `PUT /setting/key/:key` - ุชุญุฏูุซ ุฅุนุฏุงุฏ ุญุณุจ ุงูููุชุงุญ
- `DELETE /setting/id/:id` - ุญุฐู ุฅุนุฏุงุฏ
- `POST /setting/upsert/:key` - ุฅูุดุงุก ุฃู ุชุญุฏูุซ ุฅุนุฏุงุฏ

---

## ๐ ุงูุตูุงุญูุงุช

| ุงูููุงู | ุงููุฑุงุกุฉ | ุงูุฅูุดุงุก | ุงูุชุญุฏูุซ | ุงูุญุฐู |
|--------|---------|---------|---------|--------|
| **Customers** | ุงูุฌููุน | Admin, Sales | Admin, Sales | Admin |
| **Orders** | ุงูุฌููุน | Admin, Sales, Accountant | Admin, Sales, Accountant | Admin |
| **Settings** | ุงูุฌููุน | Admin | Admin | Admin |

---

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุงูุชุญูู ุงูุดุงูู (Validation)
- โ ุงูุชุญูู ูู ุฌููุน ุงูุญููู ุงููุทููุจุฉ
- โ ุงูุชุญูู ูู ุฃููุงุน ุงูุจูุงูุงุช (String, Int, Decimal, Boolean, Enum)
- โ ุงูุชุญูู ูู ุงูุทูู (min/max)
- โ ุงูุชุญูู ูู ุตูุบุฉ ุงูุจูุงูุงุช (ุฑูู ุงููุงุชูุ ุงูููุชุงุญ)
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ

### 2. ุงูุนูุงูุงุช (Relations)
- โ ุงูุนููุงุก โ ุงูุทูุจุงุช ูุงูููุงุชูุฑ
- โ ุงูุทูุจุงุช โ ุงูุนููุงุกุ ุงูุจุงุฆุนููุ ุงูุนูุงุตุฑุ ุงูููุงุชูุฑ
- โ ุนูุงุตุฑ ุงูุทูุจ โ ุงูุทูุจุ ุงููุณุทุฑุฉุ ุงูุทุจุฎุฉ
- โ Include Relations ุนูุฏ ุงูุฌูุจ

### 3. ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ
- โ `total_amount` ููุทูุจ = ูุฌููุน `subtotal` ููุนูุงุตุฑ
- โ `subtotal` ููุนูุตุฑ = `unit_price` ร `quantity`
- โ `country` ู `countryCode` ูู ุฑูู ุงููุงุชู
- โ `sales_user_id` ูู ุงููุณุชุฎุฏู ุงููุณุฌู

### 4. ุงููุนุงููุงุช (Transactions)
- โ ุฅูุดุงุก ุทูุจ ูุน ุนูุงุตุฑู ูู ูุนุงููุฉ ูุงุญุฏุฉ
- โ ุชุญุฏูุซ ุทูุจ ูุน ุนูุงุตุฑู ูู ูุนุงููุฉ ูุงุญุฏุฉ
- โ ุญุฐู ุทูุจ ูุน ุนูุงุตุฑู ูู ูุนุงููุฉ ูุงุญุฏุฉ
- โ ุถูุงู ุชูุงุณู ุงูุจูุงูุงุช (Data Consistency)

### 5. ุงูุฃูุงู (Security)
- โ Authentication ุนูู ุฌููุน ุงูู routes
- โ Authorization ุญุณุจ ุงูุฏูุฑ (Role-based)
- โ CSRF Protection exemptions
- โ XSS Protection
- โ Rate Limiting

### 6. ุงูุชุณุฌูู (Logging)
- โ ุชุณุฌูู ุฌููุน ุงูุนูููุงุช (Create, Update, Delete)
- โ ุชุณุฌูู ุงูุฃุฎุทุงุก ูุน ุงูุชูุงุตูู
- โ ุชุณุฌูู ูุนุฑู ุงูููุงู ุงููุชุฃุซุฑ

### 7. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุงูุชุญูู ูู ูุฌูุฏ ุงูููุงู ูุจู ุงูุชุญุฏูุซ/ุงูุญุฐู
- โ ุงูุชุญูู ูู ุงูุนูุงูุงุช ูุจู ุงูุญุฐู
- โ ุงูุชุญูู ูู ุงูุชูุฑุฏ (Uniqueness)
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
- โ HTTP Status Codes ุตุญูุญุฉ

---

## ๐งช ุงูุงุฎุชุจุงุฑ ุงูููุชุฑุญ

### 1. ุงุฎุชุจุงุฑ ุงูุนููุงุก
```bash
# ุฅูุดุงุก ุนููู
POST /customer
# ุฌูุจ ุฌููุน ุงูุนููุงุก
GET /customer
# ุฌูุจ ุนููู ูุงุญุฏ
GET /customer/1
# ุชุญุฏูุซ ุนููู
PUT /customer/1
# ุญุฐู ุนููู
DELETE /customer/1
```

### 2. ุงุฎุชุจุงุฑ ุงูุทูุจุงุช
```bash
# ุฅูุดุงุก ุทูุจ ูุน ุนูุงุตุฑู
POST /order
# ุฌูุจ ุฌููุน ุงูุทูุจุงุช
GET /order
# ุฌูุจ ุทูุจ ูุงุญุฏ
GET /order/1
# ุชุญุฏูุซ ุทูุจ
PUT /order/1
# ุญุฐู ุทูุจ
DELETE /order/1
```

### 3. ุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏุงุช
```bash
# ุฅูุดุงุก ุฅุนุฏุงุฏ
POST /setting
# ุฌูุจ ุฌููุน ุงูุฅุนุฏุงุฏุงุช
GET /setting
# ุฌูุจ ุฅุนุฏุงุฏ ุญุณุจ ุงูููุชุงุญ
GET /setting/key/app.name
# ุชุญุฏูุซ ุฅุนุฏุงุฏ
PUT /setting/key/app.name
# Upsert ุฅุนุฏุงุฏ
POST /setting/upsert/app.version
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุฑูู ุงููุงุชู:** ูุฌุจ ุฃู ูููู ุจุตูุบุฉ ุฏูููุฉ (E.164) ูุซู: `+963912345678`
2. **ุงูุทูุจุงุช:** ูุฌุจ ุฃู ูุญุชูู ุนูู ุนูุตุฑ ูุงุญุฏ ุนูู ุงูุฃูู
3. **ุงูุญุฐู:** 
   - ูุง ูููู ุญุฐู ุนููู ูุฏูู ุทูุจุงุช
   - ูุง ูููู ุญุฐู ุทูุจ ูุฏูู ููุงุชูุฑ
4. **ุงูููุงุชูุญ:** ูุฌุจ ุฃู ุชููู ูุฑูุฏุฉ ูุชุญุชูู ุนูู `[a-zA-Z0-9_.-]` ููุท
5. **ุงูุตูุงุญูุงุช:** ุชุฃูุฏ ูู ุงูุตูุงุญูุงุช ุงูููุงุณุจุฉ ูุจู ุชูููุฐ ุงูุนูููุงุช

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ **ุงุฎุชุจุงุฑ ุงูู APIs** - ุชุฃูุฏ ูู ุนูู ุฌููุน ุงูู endpoints
2. โ **ูุชุงุจุฉ Unit Tests** - ุงุฎุชุจุงุฑ ุงูู services ูุงูู controllers
3. โ **ุงุฎุชุจุงุฑ Integration** - ุงุฎุชุจุงุฑ ุงูุชูุงูู ุจูู ุงูููุงูุงุช
4. โ **ูุฑุงุฌุนุฉ ุงูุฃูุงู** - ุงูุชุฃูุฏ ูู ุงูุตูุงุญูุงุช ูุงูุญูุงูุฉ
5. โ **ุชุญุณูู ุงูุฃุฏุงุก** - ุฅุถุงูุฉ Indexes ุฅุฐุง ูุฒู ุงูุฃูุฑ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

- **ุนุฏุฏ ุงููููุงุช ุงูููุดุฃุฉ:** 17 ููู
- **ุนุฏุฏ ุงููููุงุช ุงููุญุฏุซุฉ:** 1 ููู (app.js)
- **ุนุฏุฏ ุงูู API Endpoints:** 18 endpoint
- **ุนุฏุฏ ุงูุฃุณุทุฑ ุงูููุชูุจุฉ:** ~2,000 ุณุทุฑ
- **ุงูููุช ุงูููุฏุฑ:** ุชู ุงูุฅูุฌุงุฒ ุจูุฌุงุญ โ

---

ุชู ุฅูุดุงุก ูุฐุง ุงููุธุงู ุจุงุชุจุงุน ุฃูุถู ุงูููุงุฑุณุงุช (Best Practices) ูู:
- โ Clean Code
- โ Separation of Concerns
- โ Error Handling
- โ Security
- โ Documentation

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

